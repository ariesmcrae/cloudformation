{
  "AWSTemplateFormatVersion" : "2010-09-09",


  "Description" : "Application Load Balancer",


  "Parameters" : {
    "ParentStackName" : {
      "Type" : "String",      
      "Description" : "The parent stack name."
    },
    "SubnetAPublicId" : {
      "Type" : "AWS::EC2::Subnet::Id",      
      "Description" : "Subnet A Public Id."
    },
    "SubnetBPublicId" : {
      "Type" : "AWS::EC2::Subnet::Id",      
      "Description" : "Subnet B Public Id."
    },
    "SecurityGroupElbId" : {
      "Type" : "AWS::EC2::SecurityGroup::Id",      
      "Description" : "Security Group Elb Id."
    }    
  },



  "Resources" : {
    "ApplicationLoadBalancer": {
      "Type": "AWS::ElasticLoadBalancingV2::LoadBalancer",
      "Properties": {
        "Scheme" : "internet-facing",
        "Subnets" : [ { "Ref" : "SubnetAPublicId"}, { "Ref" : "SubnetBPublicId"} ],
        "SecurityGroups" : [ { "Ref" : "SecurityGroupElbId" } ]
      }
    }

   },


  "Outputs" : {
    "ApplicationLoadBalancerURL" : {
      "Description" : "Application Load Balancer URL",
      "Value" : { "Fn::Sub": [ "http://${ApplicationLoadBalancer.DNSName}", { "ApplicationLoadBalancer": {"Ref" : "ApplicationLoadBalancer" }} ]}
    }
  }


} 